<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="bitc.next502.team_prj.mapper.NormalUserMapper">

    <select id="login" resultType="bitc.next502.team_prj.dto.NormalUserDTO">
        SELECT
            user_id AS userId,
            user_pw AS userPw,
            user_role AS userRole,
            user_name AS name,
            user_tel AS phone
        FROM normal_user
        WHERE user_id = #{id}
          AND user_pw = #{pw}
    </select>


    <select id="findByNameAndPhone" resultType="bitc.next502.team_prj.dto.NormalUserDTO">
        SELECT
            user_id AS userId,
            user_name AS name,
            user_tel AS phone
        FROM normal_user
        WHERE user_name = #{name}
          AND user_tel = #{phone}
    </select>


    <select id="findByIdNamePhone" resultType="bitc.next502.team_prj.dto.NormalUserDTO">
        SELECT
            user_id AS userId,
            user_name AS name,
            user_tel AS phone
        FROM normal_user
        WHERE user_id = #{id}
          AND user_name = #{name}
          AND user_tel = #{phone}
    </select>

    <!--    일반유저 회원가입 -->
    <insert id="insertNormalUser"
            parameterType="bitc.next502.team_prj.dto.NormalUserDTO">

        INSERT INTO normal_user (
            user_email,
            user_id,
            user_pw,
            user_name,
            user_tel,
            user_age,
            user_role
        )
        VALUES (
                   #{userEmail},
                   #{userId},
                   #{userPw},
                   #{name},
                   #{phone},
                   #{age},
                   #{userRole}
               )

    </insert>

</mapper>